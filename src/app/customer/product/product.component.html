<app-header></app-header>
<section class="py-8 antialiased bg-gray-50 dark:bg-gray-900 md:py-12">
    <div class="max-w-screen-xl px-4 mx-auto 2xl:px-0">
      <!--HEADINGS(IF SAN LOCATION)-->
      <div class="items-end justify-between mb-4 space-y-4 sm:flex sm:space-y-0 md:mb-8">
        <div>
          <nav class="flex" aria-label="Breadcrumb">
            <ol class="inline-flex space-x-1 items- md:space-x-2 rtl:space-x-reverse">
              <li class="inline-flex items-center">
                <a [routerLink]="breadcrumbs[0].link" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-primary-600 dark:text-gray-400 dark:hover:text-white">
                  <svg class="me-2.5 h-3 w-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                    <path d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z" />
                  </svg>
                  {{ breadcrumbs[0].label}}
                </a>
              </li>
              <li aria-current="page">
                <div class="flex items-center">
                  <svg class="w-5 h-5 text-gray-400 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7" />
                  </svg>
                  <span class="text-sm font-medium text-gray-500 ms-1 dark:text-gray-400 md:ms-2">{{ breadcrumbs[1].label}}</span>
                </div>
              </li>
            </ol>
        </nav>
        </div>
        <div class="flex items-center space-x-4">
        </div>
      </div>

      <!-- BANNER -->
      <div class="flex flex-wrap items-start justify-between max-w-screen-xl gap-4 mx-auto">
        <div *ngIf="vendors"
             class="w-full bg-white border border-gray-200 rounded-lg shadow h-52 dark:bg-gray-800 dark:border-gray-700">

        <div class="flex items-center gap-4 p-4">
            <!--STORE IMAGE-->
            <img class="object-cover w-20 h-20rounded-full md:w-44 md:h-44" [src]="'assets/' + vendors.image" alt="{{ vendors.name }}">
    
            
            <!--STORE DETAILS-->
            <div class="flex flex-col justify-between leading-normal">
                <!-- STORE NAME-->
                <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">{{vendors.name}}</h5>
                
                <!--STORE STATUS/HOURS-->
                <div class="flex items-center mb-3 space-x-2">
                    <!--ICON/OPEN-->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5 text-green-500">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <p class="text-sm font-medium text-gray-700 dark:text-gray-400">Open</p>
                    <span class="text-sm font-normal text-gray-500 dark:text-gray-400">{{vendors.storeHours}}</span>
                </div>
                
                <!-- RATINGS -->
            <div class="flex items-center space-x-2">
                <div class="flex text-yellow-400">
                  <!-- Dynamically Render Stars Based on Ratings -->
                  <svg *ngFor="let n of [].constructor(5); let i = index" [ngClass]="{'text-yellow-400': i < vendors.ratings, 'text-gray-300': i >= vendors.ratings}" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.956a1 1 0 00.95.69h4.18c.969 0 1.371 1.24.588 1.81l-3.388 2.465a1 1 0 00-.364 1.118l1.287 3.957c.3.921-.755 1.688-1.539 1.118L10 13.348l-3.39 2.464c-.783.57-1.838-.197-1.539-1.118l1.287-3.957a1 1 0 00-.364-1.118L2.606 8.383c-.783-.57-.38-1.81.588-1.81h4.18a1 1 0 00.95-.69l1.286-3.956z" />
                  </svg>
                </div>
                <span class="text-sm font-medium text-gray-700 dark:text-gray-400">{{vendors.ratings }}/5</span>
              </div>
      
              <!-- REVIEWS COUNT -->
              <p class="text-sm text-gray-500 dark:text-gray-400">{{vendors.reviewsCount }} reviews</p>
            </div>
          </div>
    <div class="flex flex-wrap items-center justify-center py-4 md:py-8">
        <button type="button" class="text-blue-700 hover:text-white border border-blue-600 bg-white hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-500 dark:bg-gray-900 dark:focus:ring-blue-800">All categories</button>
        <button type="button" class="text-gray-900 border border-white hover:border-gray-200 dark:border-gray-900 dark:bg-gray-900 dark:hover:border-gray-700 bg-white focus:ring-4 focus:outline-none focus:ring-gray-300 rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:text-white dark:focus:ring-gray-800">Food</button>
        <button type="button" class="text-gray-900 border border-white hover:border-gray-200 dark:border-gray-900 dark:bg-gray-900 dark:hover:border-gray-700 bg-white focus:ring-4 focus:outline-none focus:ring-gray-300 rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:text-white dark:focus:ring-gray-800">Drinks</button>
        <button type="button" class="text-gray-900 border border-white hover:border-gray-200 dark:border-gray-900 dark:bg-gray-900 dark:hover:border-gray-700 bg-white focus:ring-4 focus:outline-none focus:ring-gray-300 rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:text-white dark:focus:ring-gray-800">Supplies</button>
        <button type="button" class="text-gray-900 border border-white hover:border-gray-200 dark:border-gray-900 dark:bg-gray-900 dark:hover:border-gray-700 bg-white focus:ring-4 focus:outline-none focus:ring-gray-300 rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:text-white dark:focus:ring-gray-800">?</button>
    </div>
  </div>

<!--PRODUCT LIST -->
<div class="grid gap-4 mb-4 py-28 sm:grid-cols-2 md:mb-8 lg:grid-cols-3 xl:grid-cols-4">
  <div *ngFor="let product of products" class="p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 dark:bg-gray-800">
    <!-- PROD IMAGE -->
    <div class="w-full h-56">
      <a [routerLink]="['/product', product.id]">
        <img class="h-full mx-auto dark:hidden" [src]="'assets/' + (product.image || 'default.jpg')" alt="{{ product.name }}" />
        <img class="hidden h-full mx-auto dark:block" [src]="'assets/' + (product.image || 'default.jpg')" alt="{{ product.name }}" />
      </a>
    </div>

    <!--PROD DETAILSs -->
    <div class="pt-6">
      <!-- PROD NAME-->
      <a [routerLink]="['/product', product.id]" class="text-lg font-semibold leading-tight text-gray-900 hover:underline dark:text-white">
        {{ product.name }}
      </a>

      <!-- STAR RATINGS-->
      <div class="flex items-center gap-2 mt-2">
        <div class="flex items-center">
          <ng-container *ngFor="let star of [1, 2, 3, 4, 5]">
            <svg *ngIf="star <= product.ratings" class="w-4 h-4 text-yellow-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
              <path d="M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z" />
            </svg>
            <svg *ngIf="star > product.ratings" class="w-4 h-4 text-gray-300" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 17.75l-5.6 3.2 1.5-6.4L2 9.3l6.6-.6 2.4-6.2L12 5.6l2.4-6.2 6.6.6-4.9 5.8 1.5 6.4L12 17.75z" />
            </svg>
          </ng-container>
        </div>
        <!--PROD RATINGS-->
        <p class="text-sm font-medium text-gray-900 dark:text-white">{{ product.ratings }}</p>
        <p class="text-sm font-medium text-gray-500 dark:text-gray-400">({{ product.reviewsCount }})</p>
      </div>

      <!--PROD PRICE-->
      <p class="mt-2 text-xl font-bold text-gray-900 dark:text-white">
        ${{ product.price.toFixed(2) }}
      </p>

      <!-- ADD TO CART BUTTON-->
      <button class="w-full px-4 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600">
        Add to Cart
      </button>
    </div>
  </div>
</div>

